### 4. 模組 (Module)

在Python中，模組是一種封裝相關功能的方式，使得代碼重用變得簡單。模組是包含Python定義和聲明的文件。文件名就是模組名加上`.py`後綴。

#### 4.1 深入了解模組

##### 4.1.1 把模組當作腳本執行

任何包含在一個模組文件中的代碼，在導入時會被Python執行。如果我們想要讓模組既可以導入又可以作為腳本直接執行，我們可以使用以下檢查方式：

```python
if __name__ == "__main__":
    # execute only if run as a script
    main()
```

這確保當模組被直接運行時，特定代碼塊會被執行；而當模組被導入時，那部分代碼則不會執行。

##### 4.1.2 模組的搜尋路徑

當一個模組被導入時，Python會在一系列目錄中搜索模組名稱。這個搜尋路徑包括安裝的默認路徑、環境變數PYTHONPATH下的目錄，以及任何在命令行上指定的目錄。可以通過查看`sys.path`變量來查看當前的模組搜索路徑。

##### 4.1.3 「編譯」Python檔案

為了加速加載模組，Python會在`__pycache__`目錄下，將模組的編譯版本存儲為`.pyc`文件。這些編譯的文件是平台獨立的，可以提供更快的加載速度。

#### 4.2 標準模組

Python附帶了一套標準庫，這些標準模組可以使用`import`語句導入。例如，`sys`模組提供了許多與Python解釋器和它的環境互動的函數和變量。

#### 4.3 dir() 函式

`dir()`函式可以用來查找模組定義的名稱。它返回指定對象的所有屬性和方法列表，如果沒有提供參數，則返回當前範圍內的名稱列表。

#### 4.4 套件 (Package)

套件是一種包含多個模組的方式，它允許你組織模組成一個層次結構。這使得大型項目的代碼管理變得更加容易。

##### 4.4.1 從套件中 import *

當使用`from package import *`語句時，只有那些在`package`的`__init__.py`文件中定義的名稱會被導出。

##### 4.4.2 套件內引用

在套件內部，你可以使用相對導入，這樣你就不需要提及包名，從而使套件可以更容易地被重組。使用`.`表示當前包，`..`表示父包。

##### 4.4.3 多目錄中的套件

Python的套件也支持跨多個目錄的分佈。雖然這需要更複雜的結構和設置，但它提供了更大的靈活性來組織代碼。这种情况下，通常需要正确设置`PYTHONPATH`环境变量或者在运行时动态修改`sys.path`。

通過這些概念和工具，你可以有效地組織和重用Python代碼，使得開發大型項目變得更加容易和高效。